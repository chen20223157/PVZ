<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>æ¤ç‰©è§£é”é¡ºåºéªŒè¯</title>
  <style>
    body {
      font-family: 'Microsoft YaHei', sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      padding: 40px;
      margin: 0;
    }
    .container {
      max-width: 800px;
      margin: 0 auto;
      background: white;
      padding: 40px;
      border-radius: 20px;
      box-shadow: 0 20px 60px rgba(0,0,0,0.3);
    }
    h1 {
      color: #667eea;
      text-align: center;
      margin-bottom: 30px;
      font-size: 36px;
    }
    .status {
      text-align: center;
      padding: 20px;
      margin: 20px 0;
      border-radius: 10px;
      font-size: 18px;
      font-weight: bold;
    }
    .success {
      background: #d4edda;
      color: #155724;
      border: 2px solid #c3e6cb;
    }
    .info {
      background: #d1ecf1;
      color: #0c5460;
      border: 2px solid #bee5eb;
    }
    .level-card {
      background: #f8f9fa;
      padding: 20px;
      margin: 15px 0;
      border-radius: 10px;
      border-left: 5px solid #667eea;
      display: flex;
      justify-content: space-between;
      align-items: center;
      transition: transform 0.2s;
    }
    .level-card:hover {
      transform: translateX(5px);
      box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
    }
    .level-info {
      flex: 1;
    }
    .level-title {
      font-size: 20px;
      font-weight: bold;
      color: #333;
      margin-bottom: 8px;
    }
    .level-unlock {
      font-size: 16px;
      color: #666;
    }
    .plant-icon {
      font-size: 48px;
      margin-left: 20px;
    }
    .button {
      display: inline-block;
      background: #667eea;
      color: white;
      padding: 15px 40px;
      text-decoration: none;
      border-radius: 10px;
      font-size: 18px;
      font-weight: bold;
      text-align: center;
      margin: 10px;
      transition: all 0.3s;
      border: none;
      cursor: pointer;
    }
    .button:hover {
      background: #5568d3;
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
    }
    .button-container {
      text-align: center;
      margin-top: 30px;
    }
    .check-item {
      padding: 10px;
      margin: 8px 0;
      background: #e7f3ff;
      border-radius: 5px;
      display: flex;
      align-items: center;
    }
    .check-icon {
      font-size: 24px;
      margin-right: 10px;
    }
    .highlight {
      background: #fff3cd;
      padding: 3px 8px;
      border-radius: 3px;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸŒ± æ¤ç‰©è§£é”é¡ºåºéªŒè¯</h1>
    
    <div class="status success" id="status">
      âœ… æ£€æŸ¥ä¸­...
    </div>

    <div id="results"></div>

    <div class="button-container">
      <button class="button" onclick="window.location.href='index.html'">
        ğŸ® å¼€å§‹æ¸¸æˆ
      </button>
      <button class="button" onclick="window.location.href='test.html'" style="background: #28a745;">
        ğŸ§ª è¿è¡Œæµ‹è¯•
      </button>
    </div>
  </div>

  <script type="module">
    import { levelSystem } from './LevelSystem.js';

    function createCheckItem(text, isSuccess) {
      return `
        <div class="check-item">
          <span class="check-icon">${isSuccess ? 'âœ…' : 'âŒ'}</span>
          <span>${text}</span>
        </div>
      `;
    }

    function createLevelCard(level, unlockPlant, icon) {
      return `
        <div class="level-card">
          <div class="level-info">
            <div class="level-title">ç¬¬${level}å…³ - ${getLevelName(level)}</div>
            <div class="level-unlock">è§£é”æ¤ç‰©: <span class="highlight">${unlockPlant}</span></div>
          </div>
          <div class="plant-icon">${icon}</div>
        </div>
      `;
    }

    function getLevelName(levelId) {
      const level = levelSystem.getLevel(levelId);
      return level ? level.name.split(' - ')[1] : 'æœªçŸ¥';
    }

    function getPlantName(plantId) {
      const names = {
        'peashooter': 'è±Œè±†å°„æ‰‹',
        'sunflower': 'å‘æ—¥è‘µ',
        'wallnut': 'åšæœå¢™',
        'cherry_bomb': 'æ¨±æ¡ƒç‚¸å¼¹',
        'snowpea': 'å¯’å†°å°„æ‰‹'
      };
      return names[plantId] || plantId;
    }

    function verify() {
      const results = document.getElementById('results');
      const status = document.getElementById('status');
      
      let html = '<h2 style="color: #667eea; margin-top: 30px;">ğŸ“‹ éªŒè¯ç»“æœ</h2>';
      
      // æ£€æŸ¥ç¬¬1å…³
      const level1 = levelSystem.getLevel(1);
      const check1 = level1.unlockPlant === 'peashooter';
      html += createCheckItem(
        `ç¬¬1å…³è§£é” <span class="highlight">${getPlantName(level1.unlockPlant)}</span> ${check1 ? '(æ­£ç¡® âœ“)' : '(é”™è¯¯ âœ—)'}`,
        check1
      );

      // æ£€æŸ¥ç¬¬2å…³
      const level2 = levelSystem.getLevel(2);
      const check2 = level2.unlockPlant === 'sunflower';
      html += createCheckItem(
        `ç¬¬2å…³è§£é” <span class="highlight">${getPlantName(level2.unlockPlant)}</span> ${check2 ? '(æ­£ç¡® âœ“)' : '(é”™è¯¯ âœ—)'}`,
        check2
      );

      // æ£€æŸ¥ç¬¬3å…³
      const level3 = levelSystem.getLevel(3);
      const check3 = level3.unlockPlant === 'wallnut';
      html += createCheckItem(
        `ç¬¬3å…³è§£é” <span class="highlight">${getPlantName(level3.unlockPlant)}</span> ${check3 ? '(æ­£ç¡® âœ“)' : '(é”™è¯¯ âœ—)'}`,
        check3
      );

      // æ˜¾ç¤ºä¿®æ”¹åçš„é¡ºåº
      html += '<h2 style="color: #667eea; margin-top: 30px;">ğŸ¯ æ–°çš„è§£é”é¡ºåº</h2>';
      html += createLevelCard(1, 'è±Œè±†å°„æ‰‹', 'ğŸŒ±');
      html += createLevelCard(2, 'å‘æ—¥è‘µ', 'ğŸŒ»');
      html += createLevelCard(3, 'åšæœå¢™', 'ğŸ¥œ');
      html += createLevelCard(4, 'æ¨±æ¡ƒç‚¸å¼¹', 'ğŸ’');
      html += createLevelCard(5, 'å¯’å†°å°„æ‰‹', 'â„ï¸');

      // æ˜¾ç¤ºä¼˜åŠ¿
      html += '<h2 style="color: #667eea; margin-top: 30px;">ğŸ’¡ ä¿®æ”¹ä¼˜åŠ¿</h2>';
      html += createCheckItem('ç©å®¶ç¬¬1å…³å°±æœ‰æ”»å‡»æ¤ç‰©', true);
      html += createCheckItem('å¯ä»¥ä¸»åŠ¨é˜²å®ˆï¼Œä¸ç”¨å®Œå…¨ä¾èµ–å°æ¨è½¦', true);
      html += createCheckItem('å­¦ä¹ æ›²çº¿æ›´åˆç†ï¼šå…ˆæ”»åå®ˆ', true);
      html += createCheckItem('æ¸¸æˆä½“éªŒæ›´å¥½ï¼Œå‡å°‘æŒ«è´¥æ„Ÿ', true);

      results.innerHTML = html;

      // æ›´æ–°çŠ¶æ€
      if (check1 && check2 && check3) {
        status.innerHTML = 'âœ… æ‰€æœ‰æ£€æŸ¥é€šè¿‡ï¼æ¤ç‰©è§£é”é¡ºåºå·²æ­£ç¡®ä¿®æ”¹ï¼';
        status.className = 'status success';
      } else {
        status.innerHTML = 'âŒ æ£€æŸ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥é…ç½®ï¼';
        status.className = 'status error';
      }
    }

    // é¡µé¢åŠ è½½æ—¶è‡ªåŠ¨éªŒè¯
    window.addEventListener('load', verify);
  </script>
</body>
</html>
