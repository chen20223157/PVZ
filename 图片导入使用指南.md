# 图片导入使用指南

## 🎨 如何导入自定义图片

### 第一步：准备图片

1. **图片格式要求**
   - 支持格式：PNG、JPG、JPEG、GIF、WEBP
   - 推荐格式：PNG（支持透明背景）

2. **图片尺寸建议**
   - 植物图片：80x80 像素
   - 僵尸图片：100x100 像素
   - 文件大小：建议 < 500KB

3. **图片命名参考**
   - 植物类型：
     - `peashooter` - 豌豆射手
     - `sunflower` - 向日葵
     - `wallnut` - 坚果墙
     - `snowpea` - 寒冰射手
     - `cherry_bomb` - 樱桃炸弹
   
   - 僵尸类型：
     - `normal` - 普通僵尸
     - `conehead` - 路障僵尸
     - `buckethead` - 铁桶僵尸

### 第二步：打开图片管理器

在游戏界面中，按下 **`I`** 键（或 `i` 键）打开图片管理器。

### 第三步：选择类型

在图片管理器顶部，选择要上传的类型：
- **植物图片** - 上传植物的自定义图片
- **僵尸图片** - 上传僵尸的自定义图片

### 第四步：上传图片

1. 点击右上角的 **"上传图片"** 按钮
2. 在文件选择对话框中选择你准备好的图片
3. 在弹出的输入框中输入对应的类型名称
   - 例如：输入 `peashooter` 为豌豆射手上传图片
   - 例如：输入 `normal` 为普通僵尸上传图片
4. 点击确定

### 第五步：查看效果

- 上传成功后，图片会立即显示在列表中
- 关闭图片管理器，返回游戏
- 放置对应的植物或等待僵尸出现，就能看到你的自定义图片

## 🖼️ 示例操作流程

### 上传豌豆射手图片

```
1. 准备一张 80x80 的豌豆射手图片（PNG格式）
2. 游戏中按 I 键打开图片管理器
3. 确保选中"植物图片"标签
4. 点击"上传图片"按钮
5. 选择你的图片文件
6. 在弹出框中输入: peashooter
7. 点击确定
8. 图片显示在列表中，表示上传成功
9. 关闭管理器，种植豌豆射手就能看到你的图片
```

### 上传普通僵尸图片

```
1. 准备一张 100x100 的僵尸图片（PNG格式）
2. 游戏中按 I 键打开图片管理器
3. 点击"僵尸图片"标签
4. 点击"上传图片"按钮
5. 选择你的图片文件
6. 在弹出框中输入: normal
7. 点击确定
8. 图片显示在列表中
9. 等待僵尸出现就能看到你的图片
```

## 🗑️ 删除图片

1. 打开图片管理器（按 `I` 键）
2. 在列表中找到要删除的图片
3. 点击右侧的红色 **"删除"** 按钮
4. 确认删除
5. 图片会从列表中移除，游戏将使用默认绘制

## 💾 图片存储说明

- **自动保存**：上传的图片会自动保存到浏览器的 LocalStorage
- **持久化**：关闭游戏或刷新页面后，图片仍然保留
- **容量限制**：浏览器 LocalStorage 通常有 5-10MB 的限制
- **清除方法**：
  - 方法1：在图片管理器中逐个删除
  - 方法2：清除浏览器缓存和数据
  - 方法3：打开浏览器控制台，执行：
    ```javascript
    localStorage.removeItem('plantImages');
    localStorage.removeItem('zombieImages');
    ```

## 🎯 高级技巧

### 批量替换图片

如果你想替换多个植物/僵尸的图片：

1. 准备好所有图片文件
2. 按类型顺序依次上传：
   - peashooter
   - sunflower
   - wallnut
   - snowpea
   - cherry_bomb
3. 每次上传后，图片会立即生效

### 制作精美图片的建议

1. **使用透明背景**
   - PNG 格式支持透明度
   - 建议使用图片编辑软件（如 Photoshop、GIMP）去除背景

2. **合适的分辨率**
   - 植物：80x80 像素刚好合适
   - 僵尸：100x100 像素
   - 过大的图片会被缩放，可能影响清晰度

3. **风格统一**
   - 建议所有图片使用统一的美术风格
   - 色调、线条风格保持一致会更好看

4. **压缩图片**
   - 使用在线工具（如 TinyPNG）压缩图片
   - 减小文件大小，节省存储空间

## ❓ 常见问题

### Q1: 上传后没有显示？
A: 
- 检查图片格式是否支持
- 确认输入的类型名称正确（小写、无空格）
- 刷新页面重试

### Q2: 图片显示模糊？
A: 
- 上传更高分辨率的图片
- 确保图片长宽比为 1:1（正方形）

### Q3: 图片太大无法上传？
A: 
- 使用图片压缩工具减小文件大小
- 建议控制在 500KB 以内

### Q4: 删除图片后仍然显示？
A: 
- 刷新页面
- 清除浏览器缓存

### Q5: 图片上传失败？
A: 
- 检查浏览器是否支持 LocalStorage
- 检查是否在隐私/无痕模式下（某些浏览器不支持）
- 检查图片文件是否损坏

## 🎮 游戏内快捷键提醒

- **I**: 打开/关闭图片管理器
- **E**: 打开/关闭植物编辑器
- **P / ESC**: 暂停/继续游戏
- **鼠标滚轮**: 在图片列表中滚动

## 📸 分享你的作品

如果你制作了精美的自定义图片，可以：
1. 导出图片文件
2. 分享给朋友
3. 让朋友也上传到他们的游戏中

## 🔄 恢复默认图片

如果想恢复使用游戏的默认绘制：
1. 打开图片管理器
2. 删除所有自定义图片
3. 或者清除 LocalStorage：
   ```javascript
   localStorage.clear();
   location.reload();
   ```

---

**祝你玩得开心！** 🎉

如有问题，请检查浏览器控制台的错误信息。
