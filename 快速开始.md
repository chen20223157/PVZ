# 植物大战僵尸 - 快速开始指南

## 🚀 启动游戏

### 方法一：直接打开
双击 `index.html` 文件，在浏览器中打开游戏。

### 方法二：使用本地服务器
如果你有 Python 或 Node.js：

**Python 3:**
```bash
cd e:\vscodeproject\claudecode_game
python -m http.server 8000
```
然后访问：http://localhost:8000

**Node.js (使用 http-server):**
```bash
cd e:\vscodeproject\claudecode_game
npx http-server
```

## 🎮 基本操作

### 种植植物
1. 点击左侧的植物卡片选择植物
2. 点击网格上的空格子放置植物
3. 需要消耗阳光才能种植

### 收集阳光
- 点击屏幕上出现的阳光收集
- 向日葵会定期生产阳光
- 天空也会自然掉落阳光

### 铲除植物
1. 点击左侧的铲子按钮
2. 点击要铲除的植物
3. 可以返还一半的阳光

## ⚙️ 新功能使用

### 1. 图片导入（按 I 键）

**上传植物图片：**
```
1. 按 I 打开图片管理器
2. 点击"植物图片"标签
3. 点击"上传图片"
4. 选择图片文件
5. 输入类型（如：peashooter）
6. 确定
```

**支持的植物类型：**
- `peashooter` - 豌豆射手
- `sunflower` - 向日葵  
- `wallnut` - 坚果墙
- `snowpea` - 寒冰射手
- `cherry_bomb` - 樱桃炸弹

**支持的僵尸类型：**
- `normal` - 普通僵尸
- `conehead` - 路障僵尸
- `buckethead` - 铁桶僵尸

### 2. 植物编辑器（按 E 键）

创建自定义植物：
1. 按 E 打开编辑器
2. 设置植物属性
3. 保存并使用

## 🎯 游戏目标

- 保护左侧的房子
- 消灭所有僵尸
- 当前关卡：20只僵尸

## 📋 植物说明

| 植物 | 阳光消耗 | 冷却时间 | 特点 |
|------|----------|----------|------|
| 向日葵 | 50 | 5秒 | 生产阳光 |
| 豌豆射手 | 100 | 5秒 | 射击普通豌豆 |
| 坚果墙 | 50 | 20秒 | 高血量防御 |
| 寒冰射手 | 175 | 5秒 | 减速僵尸 |
| 樱桃炸弹 | 150 | 30秒 | 范围爆炸 |

## 🧟 僵尸类型

| 僵尸 | 血量 | 速度 | 伤害 |
|------|------|------|------|
| 普通僵尸 | 200 | 慢 | 25 |
| 路障僵尸 | 560 | 慢 | 25 |
| 铁桶僵尸 | 1300 | 慢 | 25 |

## ⌨️ 快捷键

| 按键 | 功能 |
|------|------|
| **I** | 打开/关闭图片管理器 |
| **E** | 打开/关闭植物编辑器 |
| **P / ESC** | 暂停/继续游戏 |
| **右键** | 取消选择 |
| **滚轮** | 在管理器中滚动 |

## 💡 游戏技巧

### 新手策略
1. **先种向日葵**：前期优先种植向日葵积累阳光
2. **合理布局**：前排放攻击植物，后排放向日葵
3. **防御搭配**：坚果墙+豌豆射手是经典组合
4. **应急手段**：遇到大量僵尸用樱桃炸弹

### 进阶技巧
1. **寒冰射手优先**：减速效果非常有用
2. **铲子回收**：不需要的植物及时铲除
3. **节约阳光**：不要浪费，计划好每一步
4. **多行防守**：每行至少放一个攻击植物

## 🔧 性能优化

游戏已进行多项优化：
- ✅ 背景缓存减少绘制
- ✅ 对象池优化内存
- ✅ 实体数量限制
- ✅ 数组操作优化

**如果游戏卡顿：**
1. 关闭其他浏览器标签
2. 减少同时存在的实体
3. 刷新页面重新开始

## 🐛 故障排除

### 游戏无法启动
- 检查浏览器控制台错误信息
- 使用现代浏览器（Chrome、Firefox、Edge）
- 确保 JavaScript 已启用

### 图片上传失败
- 检查图片格式（PNG、JPG）
- 图片大小建议 < 500KB
- 确保不在隐私模式下

### 图片不显示
- 刷新页面
- 检查输入的类型名称是否正确
- 清除浏览器缓存重试

### FPS 过低
- 关闭其他程序
- 减少浏览器扩展
- 降低浏览器缩放比例（设为100%）

## 📝 开发者信息

### 技术栈
- HTML5 Canvas
- 原生 JavaScript (ES6+)
- LocalStorage 数据持久化
- 模块化设计

### 文件结构
```
claudecode_game/
├── index.html          # 游戏入口
├── Game.js            # 游戏主逻辑
├── Plant.js           # 植物系统
├── Zombie.js          # 僵尸系统
├── Bullet.js          # 子弹系统
├── Sun.js             # 阳光系统
├── Grid.js            # 网格系统
├── ParticleSystem.js  # 粒子系统
├── ImageManager.js    # 图片管理
├── AssetUploader.js   # 资源上传器（新）
├── PlantEditor.js     # 植物编辑器
├── config.js          # 游戏配置
└── 其他辅助文件...
```

## 🎨 自定义指南

### 制作植物图片
1. 尺寸：80x80 像素
2. 格式：PNG（支持透明）
3. 风格：Q版、卡通风格
4. 命名：按类型命名

### 制作僵尸图片
1. 尺寸：100x100 像素
2. 格式：PNG（支持透明）
3. 风格：与植物风格统一
4. 细节：清晰可辨

## 🔗 相关文档

- [优化说明.md](./优化说明.md) - 详细的优化内容
- [图片导入使用指南.md](./图片导入使用指南.md) - 图片功能详细说明

## 🎉 开始游戏

现在你已经了解了基本操作，可以开始游戏了！

**祝你玩得愉快！保卫你的花园！** 🌻🧟‍♂️

---

**反馈与建议**  
如遇到问题，请查看浏览器控制台（F12）的错误信息。
